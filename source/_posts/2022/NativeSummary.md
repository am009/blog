---
title: NativeSummary：Java/C安卓应用无源码污点分析。
date: 2022/5/1 11:11:11
categories:
- Read
tags:
- StaticAnalysis
---

让原有的安卓污点分析工具（如FlowDroid），支持通过JNI接口调用的汇编代码（C语言代码）的分析。

不使用符号执行等动态分析技术，而是使用二进制静态分析技术。

<!-- more -->

这是我本科毕设。最初选题其实我非常不喜欢这个题目的，现在只能说选都选了，还是继续搞吧，因为后面发现也没有想象中那么差。

这个题目可以分为两个部分
1. 逆向部分：将APK中的二进制库拿出来，分析基于JNI接口的汇编代码在干什么。
2. 跨语言部分：C语言和Java语言的差异摆在那里，如何污点分析。

通过探索得到了下面的方案：

1. 首先分析Java部分找到native函数。然后对应到二进制库中的导出函数，即找到二进制的入口点。
1. 依次分析每个JNI函数。至少把JNI API的调用提取出来。
1. 基于观察，部分JNI函数还是非常接近Java里面的一些操作的。比如`SetObjectField`对应Java里面设置对象的成员，`CallObjectMethod`对应Java里面调用函数。基于这个思想，把相关的调用转换成Java语句。
1. 为了兼容现有的框架，将生成的Java语句重打包到应用里。因为现有的（只支持Java虚拟机部分代码）的APK污点分析工具，除了都输入一个APK，也没什么额外的拓展接口了。所以通过重打包实现兼容。


{% pdf /2022.assets/毕设论文-2022年5月17日-王纪开.pdf %}
